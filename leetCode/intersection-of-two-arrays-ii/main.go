package main

import "fmt"

func intersect(nums1 []int, nums2 []int) []int {
	m := map[int]int{}
	ans := []int{}
	for i := range nums1 {
		m[(nums1[i]+1)<<8]++
		if (nums1[i]+1)<<8 == 196608 {
			fmt.Println(nums1[i])
		}
	}

	for i := range nums2 {
		m[(nums2[i]+1)<<16]++
		if (nums2[i]+1)<<16 == 50331648 {
			fmt.Println(nums2[i])
		}
	}
	fmt.Println(m[50331648])
	fmt.Println(m[196608])
	if len(nums1) > len(nums2) {
		for i := range nums2 {
			a, b := m[(nums2[i]+1)<<8], m[(nums2[i]+1)<<16]
			if a != 0 && b != 0 {
				ans = append(ans, nums2[i])
				m[(nums2[i]+1)<<8]--
				m[(nums2[i]+1)<<16]--
			}
		}
	} else {
		for i := range nums1 {
			a, b := m[(nums1[i]+1)<<8], m[(nums1[i]+1)<<16]
			if a != 0 && b != 0 {
				ans = append(ans, nums1[i])
				m[(nums1[i]+1)<<8]--
				m[(nums1[i]+1)<<16]--
			}
		}
	}
	return ans
}
func main() {
	//s1 := []int{232, 274, 735, 818, 240, 255, 117, 371, 327, 946, 2, 758, 128, 596, 419, 706, 235, 116, 801, 885, 905, 288, 603, 923, 509, 164, 159, 659, 77, 778, 195, 36, 633, 978, 561, 316, 262, 616, 25, 393, 320, 347, 304, 551, 921, 725, 579, 241, 578, 440, 372, 486, 736, 929, 137, 886, 405, 789, 624, 118, 297, 409, 471, 779, 172, 374, 333, 770, 745, 535, 279, 679, 79, 53, 978, 504, 106, 868, 780, 536, 236, 376, 689, 296, 813, 459, 781, 413, 272, 592, 184, 820, 941, 587, 861, 627, 120, 638, 793, 949, 204, 11, 911, 520, 650, 193, 157, 766, 717, 47, 859, 417, 993, 350, 987, 697, 261, 370, 207, 258, 319, 767, 919, 912, 56, 461, 456, 952, 173, 635, 317, 99, 617, 666, 323, 750, 458, 439, 879, 275, 295, 870, 733, 186, 866, 803, 587, 361, 568, 523, 89, 502, 862, 835, 767, 279, 797, 203, 691, 930, 518, 937, 213, 900, 56, 477, 956, 588, 292, 231}

	a := []int{89, 733, 935, 391, 993, 145, 486, 234, 904, 978, 770, 666, 504, 159, 376, 578, 267, 368, 56, 317, 233, 838, 231, 213, 443, 197, 335, 482, 637, 53, 244, 484, 816, 493, 92, 439, 891, 85, 826, 419, 601, 319, 587, 461, 456, 497, 904, 231, 797, 952, 408, 137, 952, 817, 523, 766, 994, 327, 195, 272, 379, 960, 171, 820, 296, 152, 232, 813, 286, 166, 965, 56, 624, 251, 182, 596, 143, 894, 866, 800, 333, 247, 953, 511, 486, 488, 758, 459, 370, 650, 152, 994, 502, 274, 120, 65, 955, 11, 836, 800, 886, 949, 375, 197, 662, 517, 628, 861, 50, 487, 28, 862, 239, 997, 391, 173, 553, 385, 859, 323, 921, 288, 873, 638, 592, 518, 706, 633, 240, 292, 660, 577, 757, 358, 725, 781, 911, 743, 235, 279, 693, 621, 675, 124, 226, 679, 740, 138, 255, 77, 868, 458, 806, 157, 320, 384, 835, 750, 627, 417, 587, 818, 409, 659, 297, 949, 912, 286, 568, 330, 952, 393, 908, 999, 590, 875, 210, 139, 779, 413, 983, 996, 717, 748, 919, 587, 361, 304, 260, 551, 481, 204, 675, 347, 617, 618, 350, 635, 262, 501, 119, 279, 801, 922, 986, 172, 118, 286, 520, 58, 561, 735, 890, 25, 43, 184, 941, 462, 97, 203, 28, 550, 131, 29, 741, 731, 600, 477, 328, 393, 158, 993, 987, 934, 99, 986, 7, 295, 626, 799, 116, 79, 536, 937, 275, 689, 745, 780, 280, 319, 371, 408, 117, 793, 535, 193, 403, 871, 420, 112, 789, 852, 128, 2, 690, 207, 851, 165, 205, 699, 488, 870, 236, 851, 603, 585, 930, 956, 742, 778, 885, 366, 164, 803, 978, 697, 621, 844, 372, 374, 736, 111, 282, 579, 36, 900, 7, 236, 758, 923, 462, 106, 42, 640, 262, 316, 616, 946, 593, 47, 89, 509, 556, 691, 186, 405, 89, 139, 258, 29, 879, 799, 588, 261, 201, 929, 796, 905, 241, 205, 440, 796, 471}
	b := []int{232, 274, 500, 924, 712, 355, 735, 818, 434, 449, 240, 362, 63, 773, 148, 438, 255, 117, 883, 252, 771, 81, 924, 554, 776, 837, 654, 371, 537, 880, 948, 783, 310, 300, 327, 113, 909, 646, 418, 412, 447, 931, 435, 412, 946, 985, 644, 23, 188, 18, 2, 612, 300, 382, 758, 128, 133, 845, 596, 769, 419, 312, 881, 18, 706, 252, 463, 847, 860, 756, 235, 711, 116, 801, 540, 533, 772, 622, 649, 541, 885, 905, 102, 288, 434, 696, 652, 416, 654, 899, 62, 905, 603, 23, 850, 856, 327, 853, 614, 571, 55, 123, 923, 509, 359, 771, 761, 814, 164, 880, 492, 774, 416, 853, 159, 659, 678, 676, 87, 426, 77, 661, 778, 400, 480, 19, 211, 195, 931, 548, 76, 337, 36, 61, 8, 633, 978, 561, 984, 316, 98, 954, 356, 843, 716, 888, 312, 357, 973, 262, 476, 944, 426, 895, 616, 25, 393, 320, 584, 347, 977, 620, 214, 304, 944, 77, 686, 129, 21, 551, 906, 539, 921, 32, 725, 579, 86, 13, 241, 578, 659, 440, 372, 486, 794, 700, 392, 641, 678, 533, 480, 712, 78, 906, 777, 959, 925, 289, 531, 736, 786, 121, 678, 428, 202, 602, 713, 714, 246, 929, 137, 886, 915, 129, 263, 306, 788, 278, 59, 405, 105, 425, 789, 185, 161, 624, 223, 334, 164, 737, 967, 118, 354, 979, 144, 671, 162, 1, 297, 794, 516, 409, 471, 944, 310, 971, 779, 263, 128, 938, 688, 840, 172, 400, 246, 164, 374, 768, 333, 284, 422, 770, 388, 745, 535, 404, 279, 538, 902, 679, 79, 324, 298, 53, 978, 504, 516, 437, 613, 106, 763, 450, 728, 868, 573, 127, 931, 855, 718, 388, 780, 763, 615, 48, 536, 738, 711, 769, 751, 676, 936, 236, 13, 242, 351, 732, 105, 187, 846, 926, 376, 63, 967, 341, 853, 134, 689, 296, 958, 696, 22, 676, 616, 88, 813, 144, 459, 848, 781, 185, 746, 412, 214, 23, 786, 413, 967, 147, 622, 297, 892, 272, 971, 376, 592, 791, 732, 302, 101, 188, 184, 605, 174, 472, 633, 774, 746, 820, 432, 480, 823, 263, 589, 404, 70, 352, 724, 941, 525, 924, 390, 715, 945, 721, 528, 855, 914, 440, 347, 223, 917, 252, 405, 587, 701, 607, 507, 736, 33, 434, 784, 44, 861, 134, 627, 812, 538, 446, 266, 957, 776, 998, 120, 670, 958, 176, 638, 623, 793, 624, 113, 241, 589, 230, 884, 777, 27, 837, 529, 16, 369, 863, 889, 949, 204, 471, 11, 18, 557, 168, 206, 256, 812, 372, 110, 611, 658, 115, 344, 685, 263, 310, 146, 768, 968, 911, 500, 4, 828, 34, 339, 825, 558, 105, 421, 445, 824, 520, 440, 778, 673, 805, 307, 596, 763, 650, 193, 360, 157, 83, 432, 465, 976, 494, 447, 801, 723, 374, 419, 531, 13, 766, 717, 967, 116, 175, 448, 976, 669, 380, 37, 560, 322, 47, 436, 859, 346, 417, 357, 993, 739, 297, 878, 350, 929, 881, 397, 463, 715, 716, 378, 987, 905, 964, 633, 923, 697, 913, 16, 958, 674, 926, 148, 638, 261, 70, 327, 156, 706, 938, 135, 18, 824, 109, 686, 370, 676, 273, 310, 749, 674, 698, 305, 207, 287, 294, 500, 459, 329, 1, 834, 505, 805, 258, 40, 319, 767, 199, 917, 228, 942, 919, 583, 322, 16, 294, 187, 318, 412, 564, 126, 912, 979, 129, 134, 56, 22, 725, 655, 811, 622, 608, 555, 461, 170, 500, 253, 607, 75, 365, 339, 893, 923, 221, 787, 456, 952, 917, 337, 59, 968, 149, 369, 854, 864, 48, 223, 886, 912, 202, 173, 176, 635, 362, 510, 317, 521, 342, 397, 989, 839, 99, 1, 220, 617, 666, 323, 147, 784, 229, 624, 10, 750, 821, 458, 884, 933, 296, 176, 426, 159, 948, 293, 276, 476, 397, 567, 68, 728, 396, 694, 439, 360, 364, 879, 557, 658, 990, 670, 917, 736, 925, 747, 105, 730, 9, 839, 468, 275, 177, 243, 268, 295, 576, 870, 610, 12, 204, 214, 932, 849, 702, 613, 141, 84, 106, 370, 356, 334, 181, 74, 569, 363, 858, 733, 769, 326, 121, 921, 802, 704, 812, 496, 818, 80, 186, 866, 188, 500, 334, 276, 596, 434, 824, 549, 142, 595, 293, 571, 687, 694, 803, 32, 674, 793, 966, 746, 599, 750, 587, 409, 531, 90, 808, 946, 361, 680, 19, 514, 345, 70, 291, 568, 523, 206, 950, 173, 686, 194, 287, 913, 89, 988, 494, 845, 410, 502, 196, 862, 632, 835, 644, 914, 2, 672, 96, 767, 314, 259, 327, 207, 589, 533, 363, 126, 2, 345, 868, 279, 64, 105, 732, 980, 300, 797, 120, 373, 203, 915, 592, 691, 458, 798, 930, 753, 772, 506, 549, 352, 518, 354, 872, 944, 732, 937, 213, 632, 114, 605, 583, 992, 900, 823, 56, 602, 769, 409, 701, 507, 850, 477, 41, 78, 12, 337, 867, 700, 820, 911, 766, 54, 326, 631, 122, 667, 101, 225, 761, 956, 588, 831, 109, 596, 359, 543, 292, 72, 241, 35, 224, 67, 186, 116, 733, 134, 492, 717, 620, 207, 34, 141, 231, 967, 360, 555}
	intersect(a, b)
	//fmt.Println(768 << 16)50331648
	//fmt.Println(768 << 8)196608
	//s2 := []int{89, 733, 993, 486, 978, 770, 666, 504, 159, 376, 578, 56, 317, 231, 213, 53, 439, 419, 319, 587, 461, 456, 797, 952, 137, 523, 766, 327, 195, 272, 820, 296, 232, 813, 56, 624, 596, 866, 333, 758, 459, 370, 650, 502, 274, 120, 11, 886, 949, 861, 862, 173, 859, 323, 921, 288, 638, 592, 518, 706, 633, 240, 292, 725, 781, 911, 235, 279, 679, 255, 77, 868, 458, 157, 320, 835, 750, 627, 417, 587, 818, 409, 659, 297, 912, 568, 393, 779, 413, 717, 919, 361, 304, 551, 204, 347, 617, 350, 635, 262, 279, 801, 172, 118, 520, 561, 735, 25, 184, 941, 203, 477, 987, 99, 295, 116, 79, 536, 937, 275, 689, 745, 780, 371, 117, 793, 535, 193, 789, 128, 2, 207, 870, 236, 603, 930, 956, 778, 885, 164, 803, 978, 697, 372, 374, 736, 579, 36, 900, 923, 106, 316, 616, 946, 47, 509, 691, 186, 405, 258, 879, 588, 261, 929, 905, 241, 440, 471}
	//sort.Ints(s1)
	//sort.Ints(s2)
	//fmt.Println(s1)
	//fmt.Println(s2)
}
